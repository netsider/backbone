<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
  <script src="jquery-1.11.2.js"></script>
  <script src="underscore.js"></script>
  <script src="backbone.js"></script>
  <script>
  
  var TodosCollection = new Backbone.Collection();
// we can listen for reset events
//TodosCollection.on("reset", function() {
//  console.log("Collection reset.");
//});
count = 0;
TodosCollection.on('reset', function(TodosCollection, options) {
	console.log("Reset Event Listener Fired");
	_.each(options.previousModels, function(model){ // Loop through options.previousModels
		console.log("Foreach Loop");
		console.log(model.toJSON());
		//model.trigger('remove');
		console.log('Model: ' + model.get('title'));
		count++;
		console.log(count);
    });
	console.log(options.previousModels);
	console.log('options.previousModels: ' + options.previousModels[0]);
	console.log(options.previousModels[0] === TodosCollection); // should be true, but isn't
	
});
TodosCollection.add([
  { title: 'go to Jamaica.', completed: false },
  { title: 'go to China.', completed: false },
  { title: 'go to Disneyland.', completed: true }
]);
console.log('Collection size: ' + TodosCollection.length); // Collection size: 3
//TodosCollection.reset([
//  { title: 'go to Cuba.', completed: false }
//]);
//console.log('Collection size: ' + TodosCollection.length); // Collection size: 1
TodosCollection.reset([]);
console.log('Collection size: ' + TodosCollection.length); // Collection size: 0
console.log('Collection: ' + TodosCollection);

</script>
  </body>
</html>